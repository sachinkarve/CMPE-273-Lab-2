{"ast":null,"code":"var _jsxFileName = \"/Users/sachinkarve/Documents/GitHub/Lab1-014153425/frontend/react-frontend/src/components/ConfirmOrder.js\";\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router';\nimport { Button, Alert, Container, Table, Card } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport Navbar from './Navbar.js';\nimport axios from 'axios';\nimport URL from '../config';\n\nclass ConfirmOrder extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getUserProfile = () => {\n      axios.defaults.headers.common['authorization'] = localStorage.getItem('token');\n      axios.get(\"\".concat(URL, \"/profile/userget/\").concat(localStorage.getItem(\"user_id\"))).then(response => {\n        if (response.data[0]) {\n          this.setState({\n            address: response.data[0].address,\n            phone_number: response.data[0].phone_number\n          });\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    this.placeOrder = e => {\n      let data = {\n        user_id: localStorage.getItem(\"user_id\"),\n        res_id: this.state.restaurant.res_id,\n        order_status: 'ORDER_PLACED',\n        sub_total: this.state.sub_total,\n        discount: 0,\n        delivery: 0,\n        tax: 0,\n        delivery: this.state.delivery,\n        total: this.state.total,\n        cart_items: this.state.cart_items\n      };\n      axios.defaults.headers.common['authorization'] = localStorage.getItem('token');\n      axios.post(\"\".concat(URL, \"/restaurant/placeorder\"), data).then(response => {\n        if (response.data.status === \"ORDER_PLACED\") {\n          localStorage.removeItem(\"cart_items\");\n          localStorage.removeItem(\"cart_res_id\");\n          this.setState({\n            message: response.data.status\n          });\n        }\n      }).catch(error => {\n        this.setState({\n          message: \"ORDER_ERROR\"\n        });\n      });\n    };\n\n    this.getUserProfile();\n    this.placeOrder = this.placeOrder.bind(this);\n  }\n\n  componentWillMount() {\n    document.title = \"Your Order\";\n\n    if (this.props.location.state) {\n      this.setState({\n        restaurant: this.props.location.state.restaurant,\n        cart_items: this.props.location.state.cart_items,\n        discount: this.props.location.state.discount,\n        delivery: this.props.location.state.delivery,\n        tax: this.props.location.state.tax,\n        sub_total: this.props.location.state.subTotal,\n        total: this.props.location.state.total\n      });\n    }\n  }\n\n  render() {\n    let redirectVar = null,\n        order = null,\n        message = null;\n\n    if (!localStorage.getItem(\"user_id\") || localStorage.getItem(\"is_owner\") === \"1\") {\n      redirectVar = React.createElement(Redirect, {\n        to: \"/\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      });\n    }\n\n    if (this.state.message === \"ORDER_PLACED\") {\n      redirectVar = React.createElement(Redirect, {\n        to: \"/orders\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      });\n    } else if (this.state.message === \"ORDER_ERROR\") {\n      message = React.createElement(Alert, {\n        variant: \"warning\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, \"There was some error processing your order!\");\n    } else if (!localStorage.getItem(\"cart_items\") || localStorage.getItem(\"cart_items\").length === 0) {\n      redirectVar = React.createElement(Redirect, {\n        to: \"/cart\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      });\n    }\n\n    if (this.state) {\n      order = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(Card, {\n        bg: \"light\",\n        style: {\n          width: \"40rem\",\n          height: \"30rem\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(Card.Title, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, this.state.restaurant.res_name), this.state.restaurant.address, \" | \", this.state.restaurant.res_zip_code), React.createElement(Card.Body, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(Table, {\n        style: {\n          width: \"90%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        colSpan: \"4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, \"Your purchase\"), React.createElement(\"td\", {\n        align: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, \"$ \", this.state.sub_total)), React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        colSpan: \"4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, \"Total\")), React.createElement(\"td\", {\n        align: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, \"$ \", this.state.total))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }))), React.createElement(\"center\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(Button, {\n        variant: \"success\",\n        onClick: this.placeOrder,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, \"Confirm Order\"), \"\\xA0 \\xA0\", React.createElement(Button, {\n        variant: \"secondary\",\n        href: \"/home\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, \"Cancel\")), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }), React.createElement(Button, {\n        variant: \"info\",\n        href: \"/cart\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, \"Back to Cart\"));\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, redirectVar, React.createElement(Navbar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }), \" \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }), React.createElement(Container, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      align: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, \"Confirm your Order \"), React.createElement(\"center\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, message, order, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default ConfirmOrder;","map":{"version":3,"sources":["/Users/sachinkarve/Documents/GitHub/Lab1-014153425/frontend/react-frontend/src/components/ConfirmOrder.js"],"names":["React","Component","Redirect","Button","Alert","Container","Table","Card","Link","Navbar","axios","URL","ConfirmOrder","constructor","props","getUserProfile","defaults","headers","common","localStorage","getItem","get","then","response","data","setState","address","phone_number","catch","error","console","log","placeOrder","e","user_id","res_id","state","restaurant","order_status","sub_total","discount","delivery","tax","total","cart_items","post","status","removeItem","message","bind","componentWillMount","document","title","location","subTotal","render","redirectVar","order","length","width","height","res_name","res_zip_code"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Redirect } from 'react-router';\nimport { Button, Alert, Container, Table, Card } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport Navbar from './Navbar.js';\nimport axios from 'axios';\nimport URL from '../config'\n\nclass ConfirmOrder extends Component {\n    constructor(props) {\n        super(props);\n\n        this.getUserProfile();\n        this.placeOrder = this.placeOrder.bind(this);\n    }\n    componentWillMount() {\n        document.title = \"Your Order\";\n        if (this.props.location.state) {\n            this.setState({\n                restaurant: this.props.location.state.restaurant,\n                cart_items: this.props.location.state.cart_items,\n                discount: this.props.location.state.discount,\n                delivery: this.props.location.state.delivery,\n                tax: this.props.location.state.tax,\n                sub_total: this.props.location.state.subTotal,\n                total: this.props.location.state.total\n            });\n        }\n    };\n\n    getUserProfile = () => {\n        axios.defaults.headers.common['authorization']= localStorage.getItem('token') \n        axios.get(`${URL}/profile/userget/${localStorage.getItem(\"user_id\")}`)\n        .then(response => {\n            if(response.data[0]){\n                this.setState({\n                    address: response.data[0].address,\n                    phone_number: response.data[0].phone_number\n                    \n                });\n            }\n        })\n        .catch(error => {\n            console.log(error);\n        })\n    };\n\n    placeOrder = (e) => {\n\n        let data = {\n            user_id: localStorage.getItem(\"user_id\"),\n            res_id: this.state.restaurant.res_id,\n            order_status: 'ORDER_PLACED',\n            sub_total: this.state.sub_total,\n            discount: 0,\n            delivery: 0,\n            tax: 0,\n            delivery: this.state.delivery,\n            total: this.state.total,\n            cart_items: this.state.cart_items\n        }\n        axios.defaults.headers.common['authorization']= localStorage.getItem('token') \n\n        axios.post(`${URL}/restaurant/placeorder`, data)\n            .then(response => {\n                if (response.data.status === \"ORDER_PLACED\") {\n                    localStorage.removeItem(\"cart_items\");\n                    localStorage.removeItem(\"cart_res_id\");\n                    this.setState({\n                        message: response.data.status\n                    });\n                }\n            })\n            .catch(error => {\n                this.setState({\n                    message: \"ORDER_ERROR\"\n                });\n            });\n    };\n\n    render() {\n        let redirectVar = null,\n            order = null,\n            message = null;\n\n        if (!localStorage.getItem(\"user_id\") || localStorage.getItem(\"is_owner\") === \"1\") {\n            redirectVar = <Redirect to=\"/\" />\n        }\n        if (this.state.message === \"ORDER_PLACED\") {\n            redirectVar = <Redirect to=\"/orders\" />\n        }\n        else if (this.state.message === \"ORDER_ERROR\") {\n            message = <Alert variant=\"warning\">There was some error processing your order!</Alert>\n        }\n        else if (!localStorage.getItem(\"cart_items\") || localStorage.getItem(\"cart_items\").length === 0) {\n            redirectVar = <Redirect to=\"/cart\" />\n        }\n\n        if (this.state) {\n            order = (\n                <div>\n                    <Card bg=\"light\" style={{width: \"40rem\", height: \"30rem\"}}>\n                        <Card.Title>\n                            <br />\n                            <h3>{this.state.restaurant.res_name}</h3>\n                            {this.state.restaurant.address} | {this.state.restaurant.res_zip_code}\n                        </Card.Title>\n                        <Card.Body>\n                            <Table style={{ width: \"90%\" }}>\n                                <tbody>\n                                    <tr>\n                                        <td colSpan=\"4\">Your purchase</td>\n                                        <td align=\"center\">$ {this.state.sub_total}</td>\n                                    </tr>\n\n                                    <tr>\n                                        <td colSpan=\"4\"><b>Total</b></td>\n                                        <td align=\"center\"><b>$ {this.state.total}</b></td>\n                                    </tr>\n                                    <br/>\n                                    {/* <tr>\n                                        <td colSpan=\"4\">Delivery Address</td>\n                                        <td align=\"center\">{this.state.address}</td>\n                                    </tr>\n                                    <tr>\n                                        <td colSpan=\"4\">Contact Number</td>\n                                        <td align=\"center\">{this.state.phone_number}</td>\n                                    </tr> */}\n                                </tbody>\n                            </Table>\n                            <center>\n                                <Button variant=\"success\" onClick={this.placeOrder}>Confirm Order</Button>&nbsp; &nbsp;\n                                <Button variant=\"secondary\" href=\"/home\">Cancel</Button>\n                            </center>\n                            <br />\n                        </Card.Body>\n                    </Card>\n                    <br />\n                    <Button variant=\"info\" href=\"/cart\">Back to Cart</Button>\n                </div>\n            );\n        }\n\n        return (\n            <div>\n                {redirectVar}\n                <Navbar /> <br />\n                <Container>\n                    <h3 align=\"center\">Confirm your Order </h3>\n                    <center>\n                        {message}\n                        {order}\n                        <br /><br />\n                    </center>\n                </Container>\n            </div >\n        )\n    }\n}\nexport default ConfirmOrder;"]},"metadata":{},"sourceType":"module"}