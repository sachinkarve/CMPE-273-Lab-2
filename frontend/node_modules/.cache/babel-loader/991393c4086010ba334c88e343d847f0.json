{"ast":null,"code":"var _jsxFileName = \"/Users/sachinkarve/Documents/GitHub/Lab1-014153425/frontend/react-frontend/src/components/CustomerPastOrders.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { Card, Container, Col, Form, Row, Button, Alert } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport Navbar from './Navbar';\nimport URL from '../config';\n\nclass CustomerPastOrders extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getCompletedOrders = () => {\n      axios.get(\"\".concat(URL, \"/orders/completedorders/\").concat(localStorage.getItem(\"user_id\"))).then(response => {\n        if (response.data[0]) {\n          this.setState({\n            completed_orders: response.data\n          });\n        }\n      }).catch(err => {\n        if (err.response && err.response.data) {\n          this.setState({\n            message: err.response.data\n          });\n        }\n      });\n    };\n\n    this.getCompletedOrders();\n  }\n\n  render() {\n    let message = null;\n    let orders = [];\n    let orderCards = null;\n\n    if (this.state && this.state.completed_orders) {\n      orders = this.state.completed_orders;\n\n      if (orders.length > 0) {\n        orderCards = orders.map(order => {\n          return React.createElement(Card, {\n            style: {\n              width: \"60rem\",\n              margin: \"4%\"\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 43\n            },\n            __self: this\n          }, React.createElement(Card.Body, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 44\n            },\n            __self: this\n          }, React.createElement(Row, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 45\n            },\n            __self: this\n          }, React.createElement(Col, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 46\n            },\n            __self: this\n          }, React.createElement(Card.Title, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 47\n            },\n            __self: this\n          }, order.res_name), React.createElement(Card.Subtitle, {\n            className: \"mb-2 text-muted\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 48\n            },\n            __self: this\n          }, order.res_address, \" | \", order.res_zip_code), React.createElement(Card.Text, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 49\n            },\n            __self: this\n          }, order.order_date)), React.createElement(Col, {\n            align: \"center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 51\n            },\n            __self: this\n          }, React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 52\n            },\n            __self: this\n          }), React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 52\n            },\n            __self: this\n          }), React.createElement(Link, {\n            to: {\n              pathname: \"/orders/details\",\n              state: {\n                order_details: order,\n                prevPath: \"/orders/history\"\n              }\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 53\n            },\n            __self: this\n          }, React.createElement(Button, {\n            variant: \"link\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 54\n            },\n            __self: this\n          }, \"Order Details\"))), React.createElement(Col, {\n            align: \"center\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 58\n            },\n            __self: this\n          }, React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 59\n            },\n            __self: this\n          }), React.createElement(\"b\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 60\n            },\n            __self: this\n          }, \"Status\"), React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 60\n            },\n            __self: this\n          }), order.order_status, React.createElement(\"br\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 62\n            },\n            __self: this\n          })))));\n        });\n      }\n    } else {\n      message = React.createElement(Alert, {\n        variant: \"warning\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \"You do not have any orders made in the past.\");\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(Navbar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }), React.createElement(Container, {\n      className: \"justify-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, \"Your past orders\"), message, orderCards, React.createElement(\"center\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, React.createElement(Button, {\n      href: \"/home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"Home\"))));\n  }\n\n}\n\nexport default CustomerPastOrders;","map":{"version":3,"sources":["/Users/sachinkarve/Documents/GitHub/Lab1-014153425/frontend/react-frontend/src/components/CustomerPastOrders.js"],"names":["React","Component","axios","Card","Container","Col","Form","Row","Button","Alert","Link","Navbar","URL","CustomerPastOrders","constructor","props","getCompletedOrders","get","localStorage","getItem","then","response","data","setState","completed_orders","catch","err","message","render","orders","orderCards","state","length","map","order","width","margin","res_name","res_address","res_zip_code","order_date","pathname","order_details","prevPath","order_status"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,EAAeC,SAAf,EAA0BC,GAA1B,EAA+BC,IAA/B,EAAqCC,GAArC,EAA0CC,MAA1C,EAAkDC,KAAlD,QAA+D,iBAA/D;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,GAAP,MAAgB,WAAhB;;AAEA,MAAMC,kBAAN,SAAiCZ,SAAjC,CAA2C;AACvCa,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;;AADe,SAMnBC,kBANmB,GAME,MAAM;AACvBd,MAAAA,KAAK,CAACe,GAAN,WAAaL,GAAb,qCAA2CM,YAAY,CAACC,OAAb,CAAqB,SAArB,CAA3C,GACKC,IADL,CACUC,QAAQ,IAAI;AACd,YAAIA,QAAQ,CAACC,IAAT,CAAc,CAAd,CAAJ,EAAsB;AAClB,eAAKC,QAAL,CAAc;AACVC,YAAAA,gBAAgB,EAAEH,QAAQ,CAACC;AADjB,WAAd;AAGH;AACJ,OAPL,EAQKG,KARL,CAQWC,GAAG,IAAI;AACV,YAAIA,GAAG,CAACL,QAAJ,IAAgBK,GAAG,CAACL,QAAJ,CAAaC,IAAjC,EAAuC;AACnC,eAAKC,QAAL,CAAc;AACVI,YAAAA,OAAO,EAAED,GAAG,CAACL,QAAJ,CAAaC;AADZ,WAAd;AAGH;AACJ,OAdL;AAeH,KAtBkB;;AAGf,SAAKN,kBAAL;AACH;;AAoBDY,EAAAA,MAAM,GAAG;AACL,QAAID,OAAO,GAAG,IAAd;AACA,QAAIE,MAAM,GAAG,EAAb;AACA,QAAIC,UAAU,GAAG,IAAjB;;AAEA,QAAI,KAAKC,KAAL,IAAc,KAAKA,KAAL,CAAWP,gBAA7B,EAA+C;AAC3CK,MAAAA,MAAM,GAAG,KAAKE,KAAL,CAAWP,gBAApB;;AACA,UAAIK,MAAM,CAACG,MAAP,GAAgB,CAApB,EAAuB;AACnBF,QAAAA,UAAU,GAAGD,MAAM,CAACI,GAAP,CAAWC,KAAK,IAAI;AAC7B,iBACI,oBAAC,IAAD;AAAM,YAAA,KAAK,EAAE;AAAEC,cAAAA,KAAK,EAAE,OAAT;AAAkBC,cAAAA,MAAM,EAAE;AAA1B,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACI,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACI,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACI,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACI,oBAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAaF,KAAK,CAACG,QAAnB,CADJ,EAEI,oBAAC,IAAD,CAAM,QAAN;AAAe,YAAA,SAAS,EAAC,iBAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAA4CH,KAAK,CAACI,WAAlD,SAAkEJ,KAAK,CAACK,YAAxE,CAFJ,EAGI,oBAAC,IAAD,CAAM,IAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAYL,KAAK,CAACM,UAAlB,CAHJ,CADJ,EAMI,oBAAC,GAAD;AAAK,YAAA,KAAK,EAAC,QAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADA,EACK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADL,EAEI,oBAAC,IAAD;AAAM,YAAA,EAAE,EAAE;AAAEC,cAAAA,QAAQ,EAAE,iBAAZ;AAA+BV,cAAAA,KAAK,EAAE;AAACW,gBAAAA,aAAa,EAAER,KAAhB;AAAuBS,gBAAAA,QAAQ,EAAE;AAAjC;AAAtC,aAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACI,oBAAC,MAAD;AAAQ,YAAA,OAAO,EAAC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADJ,CAFJ,CANJ,EAaI,oBAAC,GAAD;AAAK,YAAA,KAAK,EAAC,QAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFJ,EAEiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFjB,EAGKT,KAAK,CAACU,YAHX,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAJJ,CAbJ,CADJ,CADJ,CADJ;AA2BH,SA5BY,CAAb;AA6BH;AACJ,KAjCD,MAkCK;AACDjB,MAAAA,OAAO,GAAG,oBAAC,KAAD;AAAO,QAAA,OAAO,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wDAAV;AACH;;AACD,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACgB,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADhB,EAC0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAD1B,EAGI,oBAAC,SAAD;AAAW,MAAA,SAAS,EAAC,iBAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADJ,EAEKA,OAFL,EAGKG,UAHL,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,CAJJ,CAHJ,CADJ;AAcH;;AAjFsC;;AAmF3C,eAAejB,kBAAf","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport { Card, Container, Col, Form, Row, Button, Alert } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport Navbar from './Navbar';\nimport URL from '../config'\n\nclass CustomerPastOrders extends Component {\n    constructor(props) {\n        super(props);\n\n        this.getCompletedOrders();\n    }\n\n    getCompletedOrders = () => {\n        axios.get(`${URL}/orders/completedorders/${localStorage.getItem(\"user_id\")}`)\n            .then(response => {\n                if (response.data[0]) {\n                    this.setState({\n                        completed_orders: response.data\n                    });\n                }\n            })\n            .catch(err => {\n                if (err.response && err.response.data) {\n                    this.setState({\n                        message: err.response.data\n                    });\n                }\n            });\n    };\n\n    render() {\n        let message = null;\n        let orders = [];\n        let orderCards = null;\n\n        if (this.state && this.state.completed_orders) {\n            orders = this.state.completed_orders;\n            if (orders.length > 0) {\n                orderCards = orders.map(order => {\n                    return (\n                        <Card style={{ width: \"60rem\", margin: \"4%\" }}>\n                            <Card.Body>\n                                <Row>\n                                    <Col>\n                                        <Card.Title>{order.res_name}</Card.Title>\n                                        <Card.Subtitle className=\"mb-2 text-muted\">{order.res_address} | {order.res_zip_code}</Card.Subtitle>\n                                        <Card.Text>{order.order_date}</Card.Text>\n                                    </Col>\n                                    <Col align=\"center\">\n                                    <br/><br/>\n                                        <Link to={{ pathname: \"/orders/details\", state: {order_details: order, prevPath: \"/orders/history\"} }}>\n                                            <Button variant=\"link\">Order Details</Button>\n                                        </Link>\n\n                                    </Col>\n                                    <Col align=\"center\">\n                                        <br />\n                                        <b>Status</b><br />\n                                        {order.order_status}\n                                        <br />\n                                    </Col>\n                                </Row>\n                            </Card.Body>\n                        </Card>\n                    );\n\n                });\n            }\n        }\n        else {\n            message = <Alert variant=\"warning\">You do not have any orders made in the past.</Alert>\n        }\n        return (\n            <div>\n                            <Navbar /><br />\n\n                <Container className=\"justify-content\">\n                    <h3>Your past orders</h3>\n                    {message}\n                    {orderCards}\n                    <center>\n                        <Button href=\"/home\">Home</Button>\n                    </center>\n                </Container>\n            </div>\n        )\n    }\n}\nexport default CustomerPastOrders;"]},"metadata":{},"sourceType":"module"}