{"ast":null,"code":"var _jsxFileName = \"/Users/sachinkarve/Documents/GitHub/Lab1-014153425/frontend/react-frontend/src/components/OwnerProfile.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport FileUpload from './FileUpload.js';\nimport cookie from 'react-cookies';\nimport { Link } from \"react-router-dom\";\nimport { Redirect } from 'react-router';\nimport { Container, Alert, Row, Image, Col, Form, Button, ButtonGroup } from 'react-bootstrap';\nimport Navbar from './Navbar.js';\nimport URL from '../config';\n\nclass OwnerProfile extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onUpdate = e => {\n      var headers = new Headers(); //prevent page from refresh\n\n      e.preventDefault(); //set the with credentials to true\n\n      axios.defaults.withCredentials = true; //make a post request with the user data\n\n      let data = {\n        user_id: localStorage.getItem(\"user_id\"),\n        email_id: this.state.email_id,\n        name: this.state.name,\n        password: this.state.password,\n        address: this.state.address,\n        phone_number: this.state.phone_number,\n        res_name: this.state.res_name,\n        res_cuisine: this.state.res_cuisine,\n        res_zip_code: this.state.res_zip_code\n      };\n      axios.defaults.headers.common['authorization'] = localStorage.getItem('token');\n      axios.post(\"\".concat(URL, \"/profile/restaurantupdate\"), data).then(response => {\n        console.log(\"inside ok\");\n        this.setState({\n          authFlag: true\n        });\n      }).catch(error => {\n        this.setState({\n          authFlag: false\n        });\n        console.log(\"inside error\");\n      });\n    };\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.state = {\n      user_id: \"\",\n      name: \"\",\n      email_id: \"\",\n      password: \"\",\n      user_image: \"\",\n      res_name: \"\",\n      res_cuisine: \"\",\n      res_zip_code: \"\",\n      authFlag: null\n    };\n    this.onChange = this.onChange.bind(this);\n    this.onUpdate = this.onUpdate.bind(this);\n  }\n\n  componentWillMount() {\n    const data = {\n      user_id: localStorage.getItem(\"user_id\")\n    };\n    axios.defaults.headers.common['authorization'] = localStorage.getItem('token');\n    axios.post(\"\".concat(URL, \"/profile/restaurantget\"), data).then(response => {\n      this.setState({\n        user_id: response.data[0].user_id,\n        name: response.data[0].name,\n        email_id: response.data[0].email_id,\n        user_image: response.data[0].user_image,\n        address: response.data[0].address,\n        phone_number: response.data[0].phone_number,\n        res_name: response.data[0].res_name,\n        res_cuisine: response.data[0].res_cuisine,\n        res_zip_code: response.data[0].res_zip_code\n      });\n      localStorage.setItem(\"name\", this.state.name);\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  render() {\n    let dispMsg = \"\";\n\n    if (this.state.authFlag === true) {\n      dispMsg = React.createElement(Alert, {\n        variant: \"success\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, \"Update successful\");\n    } else if (this.state.authFlag === false) {\n      dispMsg = React.createElement(Alert, {\n        variant: \"danger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, \"Update Failed\");\n    } // if (!cookie.load('cookie')) {\n    //     redirectVar = <Redirect to=\"/login\" />\n    // } \n    //TODO: remove upper comments after the owner profile is ready\n\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(Container, {\n      fluid: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(Col, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"Owner Profile\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }), React.createElement(Form, {\n      onSubmit: this.onUpdate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(Form.Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      controlId: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, \"Name\"), React.createElement(Form.Control, {\n      autoFocus: true,\n      name: \"name\",\n      type: \"text\",\n      onChange: this.onChange,\n      value: this.state.name,\n      placeholder: \"John Snow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }))), React.createElement(Form.Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, \"Restaurant Name\"), React.createElement(Form.Control, {\n      name: \"res_name\",\n      type: \"text\",\n      onChange: this.onChange,\n      value: this.state.res_name,\n      placeholder: \"inchins\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    })), React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"RB.password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, \"Cuisine\"), React.createElement(Form.Control, {\n      name: \"res_cuisine\",\n      onChange: this.onChange,\n      value: this.state.res_cuisine,\n      type: \"text\",\n      placeholder: \"Cuisine\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }))), React.createElement(Form.Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, \"Email\"), React.createElement(Form.Control, {\n      type: \"email\",\n      name: \"email_id\",\n      value: this.state.email_id,\n      disabled: true,\n      placeholder: \"email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }))), React.createElement(Form.Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"RB.password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, \"Password\"), React.createElement(Form.Control, {\n      type: \"password\",\n      name: \"password\",\n      onChange: this.onChange,\n      placeholder: \"New Password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }))), React.createElement(Form.Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridCity\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, \"Zip\"), React.createElement(Form.Control, {\n      type: \"text\",\n      name: \"res_zip_code\",\n      onChange: this.onChange,\n      value: this.state.res_zip_code,\n      placeholder: \"90000\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }))), React.createElement(Form.Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridCity\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, \"Address\"), React.createElement(Form.Control, {\n      type: \"text\",\n      name: \"address\",\n      onChange: this.onChange,\n      value: this.state.address,\n      placeholder: \"Street 1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }))), React.createElement(Form.Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      as: Col,\n      controlId: \"formGridZip\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, \"Phone\"), React.createElement(Form.Control, {\n      type: \"text\",\n      name: \"phone_number\",\n      onChange: this.onChange,\n      value: this.state.phone_number,\n      placeholder: \"9000010000\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }))), dispMsg, React.createElement(ButtonGroup, {\n      \"aria-label\": \"Third group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }, React.createElement(Button, {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, \"Update Details\")), React.createElement(ButtonGroup, {\n      \"aria-label\": \"Fourth group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"warning\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, \"Cancel\")))))));\n  }\n\n}\n\nexport default OwnerProfile;","map":{"version":3,"sources":["/Users/sachinkarve/Documents/GitHub/Lab1-014153425/frontend/react-frontend/src/components/OwnerProfile.js"],"names":["React","Component","axios","FileUpload","cookie","Link","Redirect","Container","Alert","Row","Image","Col","Form","Button","ButtonGroup","Navbar","URL","OwnerProfile","constructor","props","onUpdate","e","headers","Headers","preventDefault","defaults","withCredentials","data","user_id","localStorage","getItem","email_id","state","name","password","address","phone_number","res_name","res_cuisine","res_zip_code","common","post","then","response","console","log","setState","authFlag","catch","error","onChange","target","value","user_image","bind","componentWillMount","setItem","render","dispMsg"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport FileUpload from './FileUpload.js'\nimport cookie from 'react-cookies';\nimport { Link } from \"react-router-dom\";\nimport { Redirect } from 'react-router';\nimport { Container,Alert, Row, Image, Col, Form, Button, ButtonGroup } from 'react-bootstrap'\nimport Navbar from './Navbar.js';\nimport URL from '../config'\n\n\nclass OwnerProfile extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            user_id: \"\",\n            name: \"\",\n            email_id: \"\",\n            password: \"\",\n            user_image: \"\",\n            res_name: \"\",\n            res_cuisine: \"\",\n            res_zip_code: \"\",\n            authFlag : null\n        };\n        this.onChange = this.onChange.bind(this);\n        this.onUpdate = this.onUpdate.bind(this);\n    }\n\n    componentWillMount() {\n        const data = {\n            user_id: localStorage.getItem(\"user_id\")\n        };\n        axios.defaults.headers.common['authorization']= localStorage.getItem('token')\n        axios.post(`${URL}/profile/restaurantget`, data)\n            .then(response => {\n                this.setState({\n                    user_id: response.data[0].user_id,\n                    name: response.data[0].name,\n                    email_id: response.data[0].email_id,\n                    user_image: response.data[0].user_image,\n                    address: response.data[0].address,\n                    phone_number: response.data[0].phone_number,\n                    res_name: response.data[0].res_name,\n                    res_cuisine: response.data[0].res_cuisine,\n                    res_zip_code: response.data[0].res_zip_code,\n                });\n                localStorage.setItem(\"name\", this.state.name);\n            })\n            .catch(error => {\n                console.log(error);\n            });\n    }\n\n    onUpdate = (e) => {\n        var headers = new Headers();\n        //prevent page from refresh\n        e.preventDefault();\n        //set the with credentials to true\n        axios.defaults.withCredentials = true;\n        //make a post request with the user data\n        let data = {\n            user_id: localStorage.getItem(\"user_id\"),\n            email_id: this.state.email_id,\n            name: this.state.name,\n            password: this.state.password,\n            address: this.state.address,\n            phone_number: this.state.phone_number,\n            res_name: this.state.res_name,\n            res_cuisine: this.state.res_cuisine,\n            res_zip_code: this.state.res_zip_code\n        };\n        axios.defaults.headers.common['authorization']= localStorage.getItem('token')\n        axios.post(`${URL}/profile/restaurantupdate`, data)\n            .then(response => {\n                console.log(`inside ok`);\n                this.setState({\n                    authFlag : true\n                })\n            })\n            .catch(error => {\n                this.setState({\n                    authFlag : false\n                })\n                console.log(`inside error`);\n            });\n    };\n\n    onChange = (e) => {\n        this.setState({\n            [e.target.name]: e.target.value\n        })\n    }\n\n    render() {\n        let dispMsg = \"\";\n        if(this.state.authFlag === true){\n            dispMsg =(\n                <Alert variant='success'>\n                Update successful\n            </Alert>)\n        }\n        else if(this.state.authFlag === false){\n            dispMsg =(\n                <Alert variant='danger'>\n                Update Failed\n            </Alert>)\n        }\n        // if (!cookie.load('cookie')) {\n        //     redirectVar = <Redirect to=\"/login\" />\n        // } \n        //TODO: remove upper comments after the owner profile is ready\n\n        return (<div>\n\n            <Container fluid={true}>\n                    <Col>\n                    <h4>Owner Profile</h4>\n                        <br />\n                        <Form onSubmit={this.onUpdate} >\n                            <Form.Row>\n                                <Form.Group controlId=\"name\">\n                                    <Form.Label>Name</Form.Label>\n                                    <Form.Control autoFocus={true} name=\"name\"\n                                        type=\"text\"\n                                        onChange={this.onChange}\n                                        value={this.state.name} placeholder=\"John Snow\" />\n                                </Form.Group>\n                            </Form.Row>\n\n                            <Form.Row>\n                                <Form.Group as={Col} controlId=\"email\">\n                                    <Form.Label>Restaurant Name</Form.Label>\n                                    <Form.Control name=\"res_name\"\n                                        type=\"text\"\n                                        onChange={this.onChange}\n                                        value={this.state.res_name} placeholder=\"inchins\" />\n                                </Form.Group>\n\n                                <Form.Group as={Col} controlId=\"RB.password\">\n                                    <Form.Label>Cuisine</Form.Label>\n                                    <Form.Control name=\"res_cuisine\"\n                                        onChange={this.onChange}\n                                        value={this.state.res_cuisine} type=\"text\" placeholder=\"Cuisine\" />\n                                </Form.Group>\n                            </Form.Row>\n\n                            <Form.Row>\n                                <Form.Group as={Col} controlId=\"email\">\n                                    <Form.Label>Email</Form.Label>\n                                    <Form.Control type=\"email\"\n                                        name=\"email_id\"\n                                        value={this.state.email_id}\n                                        disabled placeholder=\"email\" />\n                                </Form.Group>\n                            </Form.Row>\n                            <Form.Row>\n                                <Form.Group as={Col} controlId=\"RB.password\">\n                                    <Form.Label>Password</Form.Label>\n                                    <Form.Control type=\"password\"\n                                        name=\"password\"\n                                        onChange={this.onChange}\n                                        placeholder=\"New Password\" />\n                                </Form.Group>\n                            </Form.Row>\n\n\n                            <Form.Row>\n                                <Form.Group as={Col} controlId=\"formGridCity\">\n                                    <Form.Label>Zip</Form.Label>\n                                    <Form.Control type=\"text\"\n                                        name=\"res_zip_code\"\n                                        onChange={this.onChange}\n                                        value={this.state.res_zip_code}\n                                        placeholder=\"90000\"\n                                    />\n                                </Form.Group>\n                            </Form.Row>\n                            <Form.Row>\n                                <Form.Group as={Col} controlId=\"formGridCity\">\n                                    <Form.Label>Address</Form.Label>\n                                    <Form.Control type=\"text\"\n                                        name=\"address\"\n                                        onChange={this.onChange}\n                                        value={this.state.address}\n                                        placeholder=\"Street 1\" />\n                                </Form.Group>\n                            </Form.Row>\n                            <Form.Row>\n                                <Form.Group as={Col} controlId=\"formGridZip\">\n                                    <Form.Label>Phone</Form.Label>\n                                    <Form.Control type=\"text\"\n                                        name=\"phone_number\"\n                                        onChange={this.onChange}\n                                        value={this.state.phone_number}\n                                        placeholder=\"9000010000\"\n                                    />\n                                </Form.Group>\n                            </Form.Row>\n                            {dispMsg}\n                            <ButtonGroup aria-label=\"Third group\">\n                                <Button type=\"submit\">\n                                Update Details</Button>\n                            </ButtonGroup>\n\n                            <ButtonGroup aria-label=\"Fourth group\">\n                            <Link to=\"/home\"><Button variant=\"warning\">Cancel</Button></Link>\n                            </ButtonGroup>\n                        </Form>\n                    </Col>\n            </Container>\n        </div>\n\n\n\n\n\n\n\n\n\n\n\n        )\n    }\n}\nexport default OwnerProfile;"]},"metadata":{},"sourceType":"module"}